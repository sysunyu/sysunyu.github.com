<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        #small{ width: 190px; height: 220px; position: absolute; left: 0; top: 0; cursor: move;}
        #small img{width: 190px; height: 220px; }
        #small span{ width: 80px; height: 80px; background: yellow; opacity: 0.5;
            position: absolute; right: 0; bottom: 0; }
        #big{ width: 190px; height: 220px; position: absolute; left: 200px; top: 0; overflow: hidden;}
        #big img{ position: absolute; left:0; top: 0; width: 380px; height: 440px;}
    </style>
    <script>
        window.onload=function(){
            var oSmall = document.getElementById('small');
            var oBig = document.getElementById('big');
            var oImg = oBig.children[0];
            var oS = oSmall.children[1];
            oSmall.onmouseover=function(){
                oS.style.display='block';
                oBig.style.display='block';
            }
            oSmall.onmouseout=function(){
                oS.style.display='none';
                oBig.style.display='none';
            }

            oSmall.onmousemove=function(ev){
                var oEvent = ev || event;
                var left=oEvent.clientX-oS.offsetWidth/2;
                var top=oEvent.clientY-oS.offsetHeight/2;
                if(left<0){
                    left=0;
                }
                if(left>oSmall.offsetWidth-oS.offsetWidth){
                    left=oSmall.offsetWidth-oS.offsetWidth;
                }
                if(top<0){
                    top=0;
                }
                if(top>oSmall.offsetHeight-oS.offsetHeight){
                    top=oSmall.offsetHeight-oS.offsetHeight;
                }
                oS.style.left=left+'px';
                oS.style.top=top+'px';
                oImg.style.left = -left / (oSmall.offsetWidth - oS.offsetWidth) * (oImg.offsetWidth - oBig.offsetWidth) + 'px';
                oImg.style.top = -top / (oSmall.offsetHeight - oS.offsetHeight) * (oImg.offsetHeight - oBig.offsetHeight) + 'px';
            }
        }
    </script>
</head>
<body>
<div id="box">
    <div id="small">
        <img src="images/change.jpg"/>
        <span></span>
    </div>
    <div id="big">
        <img src="images/change.jpg"/>
    </div>
</div>
</body>
</html>