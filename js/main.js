window.onload=function(){(function(){var oBox=document.querySelector("#title");var oC=oBox.querySelector("canvas");var gd=oC.getContext("2d");gd.beginPath();gd.moveTo(40,100);gd.lineTo(100,230);gd.lineTo(105,230);gd.lineTo(130,150);gd.lineTo(135,150);gd.lineTo(160,230);gd.lineTo(165,230);gd.lineTo(220,100);gd.lineWidth=20;gd.strokeStyle="#ed988a";gd.stroke();gd.beginPath();gd.moveTo(380,100);gd.lineTo(270,100);gd.lineTo(270,170);gd.lineTo(360,170);gd.lineTo(270,170);gd.lineTo(270,240);gd.lineTo(380,240);gd.lineWidth=20;gd.strokeStyle="blue";gd.stroke();gd.beginPath();gd.moveTo(450,90);gd.lineTo(450,240);gd.lineTo(560,240);gd.lineWidth=20;gd.strokeStyle="#000";gd.stroke();function d2a(n){return n*Math.PI/180}gd.beginPath();gd.moveTo(680,180);gd.arc(680,180,80,d2a(40),d2a(-50),false);gd.closePath();gd.lineWidth=20;gd.strokeStyle="green";gd.stroke();gd.beginPath();gd.arc(880,180,70,d2a(0),d2a(360),false);gd.strokeStyle="#cc555d";gd.stroke();gd.beginPath();gd.moveTo(1000,260);gd.lineTo(1030,100);gd.lineTo(1040,100);gd.lineTo(1070,190);gd.lineTo(1080,190);gd.lineTo(1110,100);gd.lineTo(1120,100);gd.lineTo(1130,260);gd.lineWidth=20;gd.strokeStyle="purple";gd.stroke();gd.beginPath();gd.moveTo(1300,100);gd.lineTo(1190,100);gd.lineTo(1190,170);gd.lineTo(1280,170);gd.lineTo(1190,170);gd.lineTo(1190,240);gd.lineTo(1300,240);gd.lineWidth=20;gd.strokeStyle="#f0c44f";gd.stroke()})();(function(){var oStart=document.getElementById("login");var oA=oStart.getElementsByTagName("a")[0];elastic(oA,500);oA.onclick=function(){oStart.style.display="none"}})();(function(){var oItem=document.getElementById("nav");var oItem2=document.getElementById("nav2");var top=oItem.offsetTop;window.onscroll=function(){var scrollTop=document.documentElement.scrollTop||document.body.scrollTop;if(scrollTop>top){oItem.style.position="fixed";oItem.style.top="0";oItem.style.left="0";oItem2.style.display="block"}else{oItem.style.position="static";oItem2.style.display="none"}}})();(function(){var oBox=document.querySelector("#list");var aA=oBox.getElementsByTagName("li");var timer=null;var arr=[0,610,1230,1990,2590,3390];for(var i=0;i<aA.length;i++){aA[i].index=i;aA[i].onclick=function(){var _this=this;for(var i=0;i<aA.length;i++){aA[i].className=" "}_this.className="on";var scrollTop=document.documentElement.scrollTop||document.body.scrollTop;var start=scrollTop;var dis=arr[_this.index]-start;var count=parseInt(1000/20);var n=0;clearInterval(timer);timer=setInterval(function(){n++;var a=1-n/count;var cur=start+dis*(1-a*a*a);document.documentElement.scrollTop=document.body.scrollTop=cur;if(n==count){clearInterval(timer)}},30)}}})();(function(){var oBox=document.getElementById("show");var oPrev=oBox.children[0];var oNext=oBox.children[1];var oUl=oBox.children[2];var oOl=oBox.children[3];var aLi=oUl.children;var aBtn=oOl.children;var n=0;var timer=null;oUl.innerHTML+=oUl.innerHTML;oUl.style.width=aLi[0].offsetWidth*aLi.length+"px";oBox.onmouseover=function(){oPrev.style.display="block";oNext.style.display="block"};oBox.onmouseout=function(){oPrev.style.display="none";oNext.style.display="none"};for(var i=0;i<aBtn.length;i++){(function(index){aBtn[i].onclick=function(){if((n%5==4||n%5==-1)&&index==0){n++}if(n%5==0&&index==aBtn.length-1){n--}n=Math.floor(n/aBtn.length)*aBtn.length+index;tab()}})(i)}function tab(){for(var i=0;i<aBtn.length;i++){aBtn[i].className=""}aBtn[(n%5+5)%5].className="active";oUl.style.left=-n*aLi[0].offsetWidth+"px";startmove(oUl,-n*aLi[0].offsetWidth)}oPrev.onclick=function(){n--;tab()};oNext.onclick=function(){n++;tab();document.title=n};var left=0;var w=oUl.offsetWidth/2;function startmove(obj,target){clearInterval(timer);var start=left;var dis=target-start;var count=Math.floor(500/30);var i=0;timer=setInterval(function(){i++;var a=i/count;var cur=start+dis*a*a*a;left=cur;obj.style.left=(left%w-w)%w+"px";if(i==count){clearInterval(timer)}},30)}})();(function(){function a2d(n){return n*180/Math.PI}function hoverDir(ev,obj){var a=ev.pageX-getpos(obj).left-obj.offsetWidth/2;var b=getpos(obj).top+obj.offsetHeight/2-ev.pageY;return Math.round((a2d(Math.atan2(b,a))+180)/90)%4}function through(obj){var oS=obj.children[0];obj.onmouseenter=function(ev){var oEvent=ev||event;var dir=hoverDir(oEvent,obj);switch(dir){case 0:oS.style.left="-300px";oS.style.top=0;break;case 1:oS.style.left=0;oS.style.top="200px";break;case 2:oS.style.left="300px";oS.style.top=0;break;case 3:oS.style.left=0;oS.style.top="-200px";break}move(oS,{left:0,top:0})};obj.onmouseleave=function(ev){var oEvent=ev||event;var dir=hoverDir(oEvent,obj);switch(dir){case 0:move(oS,{left:-300,top:0});break;case 1:move(oS,{left:0,top:200});break;case 2:move(oS,{left:300,top:0});break;case 3:move(oS,{left:0,top:-200});break}}}function getpos(obj){var l=0;var h=0;while(obj){l+=obj.offsetLeft;h+=obj.offsetTop;obj=obj.offsetParent}return{left:l,top:h}}var oBox=document.getElementById("wall");var aLi=oBox.getElementsByTagName("li");for(var i=0;i<aLi.length;i++){through(aLi[i])}})();(function(){var oBox=document.getElementById("img");
    var oUl=oBox.querySelector("ul");var aLi=oUl.children;var N=11;for(var i=0;i<N;i++){aLi[i].style.WebkitTransition="1s all ease "+(N-i)*100+"ms";aLi[i].style.WebkitTransform="rotateY("+360/N*i+"deg) translateZ(350px)"}var x=0;var y=0;var iSpeedX=0;var iSpeedY=0;var lastX=0;var lastY=0;oUl.onmousedown=function(ev){var disX=ev.pageX-y;var disY=ev.pageY-x;document.onmousemove=function(ev){x=ev.pageY-disY;y=ev.pageX-disX;oUl.style.WebkitTransform="perspective(800px) rotateY("+y/5+"deg) rotateX("+-x/5+"deg)";iSpeedX=ev.pageX-lastX;iSpeedY=ev.pageY-lastY;lastX=ev.pageX;lastY=ev.pageY};document.onmouseup=function(){document.onmousemove=null;document.onmouseup=null;clearInterval(oUl.timer);oUl.timer=setInterval(function(){x+=iSpeedY;y+=iSpeedX;oUl.style.WebkitTransform="perspective(800px) rotateY("+y/5+"deg) rotateX("+-x/5+"deg)";iSpeedX*=0.95;iSpeedY*=0.95;if(Math.abs(iSpeedX)<1){iSpeedX=0}if(Math.abs(iSpeedY)<1){iSpeedY=0}if(iSpeedX==0&&iSpeedY==0){clearInterval(oUl.timer)}},30)};return false}})();(function(){var oBox=document.querySelector("#eff");var oPage=document.querySelector("#page");var oFront=oPage.children[0];var oBack=oPage.children[1];var oPage2=document.querySelector("#page2");var bOk=false;var iNow=0;oBox.onclick=function(){if(bOk){return}bOk=true;iNow++;oPage.style.WebkitTransition="1s all ease";oPage.style.WebkitTransform="perspective(800px) rotateY(-180deg)";oPage.style.MozTransition="1s all ease";oPage.style.MozTransform="perspective(800px) rotateY(-180deg)";oPage.style.transition="1s all ease";oPage.style.transform="perspective(800px) rotateY(-180deg)";function tranEnd(){oPage.removeEventListener("transitionend",tranEnd,false);oPage.style.WebkitTransition="none";oPage.style.MozTransition="none";oPage.style.transition="none";oBox.style.backgroundImage="url(images/story/"+(iNow%3+1)+".jpg)";oFront.style.backgroundImage="url(images/story/"+(iNow%3+1)+".jpg)";oBack.style.backgroundImage="url(images/story/"+((iNow+1)%3+1)+".jpg)";oPage2.style.backgroundImage="url(images/story/"+((iNow+1)%3+1)+".jpg)";oPage.style.WebkitTransform="perspective(800px) rotateY(0deg)";oPage.style.MozTransform="perspective(800px) rotateY(0deg)";oPage.style.transform="perspective(800px) rotateY(0deg)";bOk=false}oPage.addEventListener("transitionend",tranEnd,false)}})();(function(){var oClock=document.querySelector(".clock");var oHou=document.querySelector(".hour");var oMin=document.querySelector(".min");var oSec=document.querySelector(".sec");var N=60;for(var i=0;i<N;i++){var oS=document.createElement("span");oS.style.WebkitTransform="rotate("+i*6+"deg)";if(i%5==0){oS.className="big_scale";oS.innerHTML="<i>"+(i/5||12)+"</i>";var oI=oS.children[0];oI.style.WebkitTransform="rotate("+-i*6+"deg)"}oClock.appendChild(oS)}function clock(){var oDate=new Date();var h=oDate.getHours();var m=oDate.getMinutes();var s=oDate.getSeconds();var ms=oDate.getMilliseconds();oHou.style.WebkitTransform="rotate("+(h*30+m/60*30)+"deg)";oMin.style.WebkitTransform="rotate("+(m*6+s/60*6)+"deg)";oSec.style.WebkitTransform="rotate("+(s*6+ms/1000*6)+"deg)"}clock();setInterval(clock,1)})();(function(){var oBox=document.getElementById("picture_clock");var aImg=oBox.getElementsByTagName("img");function toDou(n){return n<10?"0"+n:""+n}function clock(){var oDate=new Date();var h=oDate.getHours();var m=oDate.getMinutes();var s=oDate.getSeconds();var str=""+toDou(h)+toDou(m)+toDou(s);for(var i=0;i<aImg.length;i++){aImg[i].src="images/clock/"+str.charAt(i)+".png"}}clock();setInterval(clock,1000)})();(function(){function toDou(iNow){return iNow<10?"0"+iNow:""+iNow}function d2a(n){return n*Math.PI/180}var oC=document.getElementById("can");var gd=oC.getContext("2d");var cx=oC.width/2,cy=oC.height/2;function clock(){gd.clearRect(0,0,oC.width,oC.height);var oDate=new Date();var H=oDate.getHours()%12;var M=oDate.getMinutes();var S=oDate.getSeconds();var MS=oDate.getMilliseconds();drawArc(100,0,(H*30+M/60*30),"green");drawArc(120,0,(M*6+S/60*6),"orange");drawArc(140,0,(S*6+MS/1000*6),"blue");var str=toDou(H)+":"+toDou(M)+":"+toDou(S);gd.font="20px Microsoft Yahei";gd.textAlign="center";gd.textBaseline="middle";gd.fillText(str,cx,cy)}clock();setInterval(clock,1);function drawArc(r,s,e,color){gd.beginPath();gd.arc(cx,cy,r,d2a(s),d2a(e),false);gd.strokeStyle=color;gd.lineWidth=20;gd.stroke()}})();(function(){var oT=document.getElementById("text");var n=0;function bac(n){oT.style.background="-webkit-linear-gradient(-45deg,#000 "+n+"%,#fff "+(n+15)+"%,#000 "+(n+20)+"%)";oT.style.WebkitBackgroundClip="text"}bac(n);setInterval(function(){n++;bac(n%95)},30)})();(function(){var oDiv=document.getElementById("div1");var oFDate=new Date();oFDate.setFullYear(2016,12,28);oFDate.setHours(0,0,0,0);var future=oFDate.getTime();setInterval(function(){var oNDate=new Date();var now=oNDate.getTime();var ms=future-now;var s=parseInt(ms/1000);var d=parseInt(s/86400);s=s%86400;var h=parseInt(s/3600);s=s%3600;var m=parseInt(s/60);s=s%60;oDiv.innerHTML="还有"+d+"天"+h+"小时"+m+"分"+s+"秒"},1000)})();(function(){var oBtn=document.getElementById("btn");
    var timer=null;var lock=false;window.addEventListener("scroll",function(){var srcoll=document.documentElement.scrollTop||document.body.scrollTop;if(lock){clearInterval(timer)}lock=true;if(srcoll<=0){oBtn.style.display="none"}else{oBtn.style.display="block"}oBtn.onclick=function(){clearInterval(timer);var Srcoll=document.documentElement.scrollTop||document.body.scrollTop;var start=Srcoll;var dis=0-start;var count=Math.floor(2000/30);var n=0;timer=setInterval(function(){n++;lock=false;document.documentElement.scrollTop=document.body.scrollTop=start+dis*n/count;if(n==count){clearInterval(timer)}},30)}},false)})()};
